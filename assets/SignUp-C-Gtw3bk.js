import{d as a,c as f,b as t,j as h,p as V,Y as k,H as N,R as l,A as _,K as C,V as n,D as U,W as S,u as j,o as b,N as T,Z as D}from"./index-BXD4JFgN.js";const P={class:"w-screen flex justify-center"},B={class:"h-screen w-full flex flex-col items-center justify-center"},R={class:"p-4 rounded bg-gray-300"},A={class:"grid grid-cols-3"},E={key:0,class:"px-4 mx-2 w-64 rounded bg-red-500 radius-2 text-center"},M=["disabled"],H={__name:"SignUp",setup(z){const d=a(""),p=a(""),r=a(""),u=a(""),s=a(""),i=a(""),m=a(""),v=a(!1),x=S(),y=j();async function w(){try{if(s.value!==i.value)return;const c=await D.post("/user/create",{name:d.value,firstName:p.value,mail:r.value,phone:u.value,password:s.value},{headers:{"Content-Type":"application/json"}});await x.dispatch("login",{mail:r.value,password:s.value}),y.push("/dashboard")}catch(c){console.error(c),m.value="An error occurred / user already exists",v.value=!0}}return(c,e)=>{const g=k("router-link");return b(),f("div",P,[t("div",B,[t("div",R,[t("div",A,[h(g,{to:"/",class:"text-2xl font-bold text-center font-customTeko grid-1 text-center font-bold"},{default:V(()=>e[6]||(e[6]=[T("←")])),_:1}),e[7]||(e[7]=t("h1",{class:"text-4xl font-bold text-center mb-2 font-customTeko grid-2"},"Sign In",-1))]),t("form",{class:"flex flex-col items-center justify-center",onSubmit:N(w,["prevent"])},[t("div",null,[v.value?(b(),f("p",E,C(m.value),1)):_("",!0)]),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),type:"text",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"Name*"},null,512),[[n,d.value]]),l(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),type:"text",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"First name"},null,512),[[n,p.value]]),l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.value=o),type:"email",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"Email*"},null,512),[[n,r.value]]),l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),type:"text",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"Phone*"},null,512),[[n,u.value]]),l(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.value=o),type:"password",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"Password*"},null,512),[[n,s.value]]),l(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>i.value=o),type:"password",class:"p-2 m-2 w-64 border border-gray-400 rounded",placeholder:"Confirm Password*"},null,512),[[n,i.value]]),t("button",{disabled:!r.value||!s.value||!d.value||!u.value||!i.value,type:"submit",class:U(["p-2 m-2 w-64 bg-black font-white text-white rounded font-customPlayfair",{"opacity-50 cursor-not-allowed":!r.value||!s.value||!d.value||!u.value||!i.value}])},"Ready to start!",10,M)],32)])])])}}};export{H as default};
